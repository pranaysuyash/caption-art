# =============================================================================
# Platform-Agnostic Backend Configuration
# =============================================================================
# This file contains all environment variables needed to run the backend service.
# Copy this file to .env and fill in your actual values.
# NEVER commit .env to version control - it contains sensitive API keys!
# =============================================================================

# -----------------------------------------------------------------------------
# Server Configuration
# -----------------------------------------------------------------------------
# NODE_ENV: Environment mode (development, production, test)
# - development: Enables detailed logging and hot reloading
# - production: Optimized for performance, minimal logging
# - test: Used during automated testing
NODE_ENV=development

# PORT: The port number the server will listen on
# - Default: 3001
# - Can be any available port (1024-65535 recommended)
# - Must match the port your frontend expects
PORT=3001

# -----------------------------------------------------------------------------
# Replicate API Configuration
# -----------------------------------------------------------------------------
# Replicate provides AI models for image captioning and background removal.
# Sign up at: https://replicate.com/
# Get your API token from: https://replicate.com/account/api-tokens

# REPLICATE_API_TOKEN: Your Replicate API authentication token (REQUIRED)
# - Format: r8_xxxxxxxxxxxxxxxxxxxxxxxxxxxxx
# - Keep this secret! Never share or commit to Git
REPLICATE_API_TOKEN=r8_your_token_here

# REPLICATE_BLIP_MODEL: The Replicate model ID for image captioning
# - Default: salesforce/blip (BLIP: Bootstrapping Language-Image Pre-training)
# - This model generates base captions from images
# - You can use a different version if needed
REPLICATE_BLIP_MODEL=salesforce/blip:2e1dddc8621f72155f24cf2e0adbde548458d3cab9f00c0139eea840d0ac4746

# REPLICATE_REMBG_MODEL: The Replicate model ID for background removal
# - Default: cjwbw/rembg (Remove Background)
# - This model generates subject masks for "text behind subject" effect
# - You can use a different version if needed
REPLICATE_REMBG_MODEL=cjwbw/rembg:fb8af171cfa1616ddcf1242c093f9c46bcada5ad4cf6f2fbe8b81b330ec5c003

# -----------------------------------------------------------------------------
# OpenAI API Configuration
# -----------------------------------------------------------------------------
# OpenAI provides GPT models for rewriting captions in different styles.
# Sign up at: https://platform.openai.com/
# Get your API key from: https://platform.openai.com/api-keys

# OPENAI_API_KEY: Your OpenAI API authentication key (REQUIRED)
# - Format: sk-xxxxxxxxxxxxxxxxxxxxxxxxxxxxx
# - Keep this secret! Never share or commit to Git
OPENAI_API_KEY=sk-your_key_here

# OPENAI_MODEL: The OpenAI model to use for caption rewriting
# - Default: gpt-3.5-turbo (fast and cost-effective)
# - Alternatives: gpt-4, gpt-4-turbo (more capable but more expensive)
OPENAI_MODEL=gpt-3.5-turbo

# OPENAI_TEMPERATURE: Controls randomness in caption generation
# - Range: 0.0 to 2.0
# - 0.0: Deterministic, consistent outputs
# - 0.8: Balanced creativity (recommended)
# - 2.0: Maximum creativity and variation
OPENAI_TEMPERATURE=0.8

# -----------------------------------------------------------------------------
# Gumroad Configuration
# -----------------------------------------------------------------------------
# Gumroad handles license verification for premium features.
# Sign up at: https://gumroad.com/
# Create a product and get your credentials from the settings page.

# GUMROAD_PRODUCT_PERMALINK: Your Gumroad product's unique identifier (REQUIRED)
# - This is the short name/slug of your product
# - Example: "caption-art" for https://gumroad.com/l/caption-art
GUMROAD_PRODUCT_PERMALINK=caption-art

# GUMROAD_ACCESS_TOKEN: Your Gumroad API access token (OPTIONAL)
# - Only needed if you want to verify licenses server-side
# - Get from: https://app.gumroad.com/settings/advanced#application-form
# - Leave empty if not using license verification
GUMROAD_ACCESS_TOKEN=your_token_here

# -----------------------------------------------------------------------------
# CORS Configuration
# -----------------------------------------------------------------------------
# CORS (Cross-Origin Resource Sharing) controls which domains can access your API.

# CORS_ORIGIN: Allowed origins for API requests
# - "*": Allow all origins (use only in development!)
# - "https://yourdomain.com": Allow specific domain
# - "https://yourdomain.com,https://www.yourdomain.com": Multiple domains (comma-separated)
# - For production, always specify your actual frontend domain(s)
CORS_ORIGIN=*

# =============================================================================
# Optional Advanced Configuration
# =============================================================================
# These variables have sensible defaults and usually don't need to be changed.

# Request timeout for external API calls (milliseconds)
# API_TIMEOUT=30000

# Rate limiting: Maximum requests per window
# RATE_LIMIT_MAX=100

# Rate limiting: Time window in milliseconds (15 minutes)
# RATE_LIMIT_WINDOW_MS=900000

# Maximum JSON payload size
# MAX_JSON_SIZE=10mb

# =============================================================================
# Quick Start
# =============================================================================
# 1. Copy this file: cp .env.example .env
# 2. Fill in your API keys (REPLICATE_API_TOKEN, OPENAI_API_KEY)
# 3. Update GUMROAD_PRODUCT_PERMALINK if using license verification
# 4. Set CORS_ORIGIN to your frontend URL in production
# 5. Run: npm run dev
# =============================================================================
